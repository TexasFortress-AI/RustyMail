# For Mock testing (default)
IMAP_ADAPTER=mock  # No real credentials needed

# Real credentials for specific provider
# IMAP_ADAPTER=godaddy  # or gmail, outlook, etc.
# IMAP_HOST=imap.secureserver.net
# IMAP_PORT=993
# IMAP_USERNAME=real-email@domain.com
# IMAP_PASS=real-password

# Live testing (Requires credentials)
# IMAP_ADAPTER=godaddy cargo test --test e2e_live

# IMAP Operation Timeouts
# Timeout for APPEND operations (saving emails to folders) in seconds
# Default: 35 seconds (handles slow servers with security scanning)
IMAP_APPEND_TIMEOUT_SECONDS=35

# RustyMail REST API Server Configuration
REST_HOST=0.0.0.0
REST_PORT=9437  # Uncommon port for REST API

# RustyMail SSE Server Configuration
SSE_HOST=0.0.0.0
SSE_PORT=9438   # Uncommon port for SSE endpoint

# Dashboard Configuration (if enabled)
DASHBOARD_ENABLED=true
DASHBOARD_PORT=9439  # Uncommon port for dashboard UI
DASHBOARD_PATH=frontend/rustymail-app-main/dist
DASHBOARD_HOST=0.0.0.0

# Logging Configuration
LOG_LEVEL=info

# Security Configuration
# Set to true to require HTTPS
REQUIRE_HTTPS=false

# API Authentication
# Default API key for dashboard and MCP access
RUSTYMAIL_API_KEY=test-rustymail-key-2024
VITE_RUSTYMAIL_API_KEY=test-rustymail-key-2024

# Frontend API Configuration
VITE_API_URL=/api

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # in seconds

# Connection Pool Configuration
MAX_CONNECTIONS=10
CONNECTION_TIMEOUT=30  # in seconds

# ============================================================================
# Database Configuration
# ============================================================================
# RustyMail uses a single SQLite database for email caching and account storage
# Location: ./data/email_cache.db (automatically created on first run)
CACHE_DATABASE_URL=sqlite:data/email_cache.db
#
# This database stores:
# - Cached email messages (for faster loading)
# - Email folders and sync state
# - Account information (synced from config/accounts.json)
#
# Note: Account configuration is stored in config/accounts.json (file-based)
# and synchronized to the database for query performance

# ============================================================================
# AI Service Configuration (for chatbot functionality)
# ============================================================================
# Uncomment and set the appropriate API key and base URL for your chosen provider
# Most providers use OpenAI-compatible APIs with /v1/chat/completions endpoint

# --- OpenAI ---
# OPENAI_API_KEY=sk-...
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_MODEL=gpt-4o-mini

# --- Anthropic Claude ---
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_BASE_URL=https://api.anthropic.com/v1
# ANTHROPIC_MODEL=claude-sonnet-4-5

# --- OpenRouter (Multi-provider gateway) ---
# OPENROUTER_API_KEY=sk-or-...
# OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# OPENROUTER_MODEL=anthropic/claude-3.5-sonnet

# --- DeepSeek ---
# DEEPSEEK_API_KEY=...
# DEEPSEEK_BASE_URL=https://api.deepseek.com
# DEEPSEEK_MODEL=deepseek-chat

# --- xAI (Grok) ---
# XAI_API_KEY=...
# XAI_BASE_URL=https://api.x.ai/v1
# XAI_MODEL=grok-beta

# --- Google Gemini ---
# GEMINI_API_KEY=...
# GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1
# GEMINI_MODEL=gemini-2.5-flash

# --- Mistral AI ---
# MISTRAL_API_KEY=...
# MISTRAL_BASE_URL=https://api.mistral.ai/v1
# MISTRAL_MODEL=mistral-large-latest

# --- Together AI ---
# TOGETHER_API_KEY=...
# TOGETHER_BASE_URL=https://api.together.xyz/v1
# TOGETHER_MODEL=meta-llama/Meta-Llama-3.1-8B-Instruct-Turbo

# --- Morpheus (Decentralized AI) ---
# MORPHEUS_API_KEY=...
# MORPHEUS_BASE_URL=https://api.mor.org/api/v1
# MORPHEUS_MODEL=LMR-Hermes-3-Llama-3.1-8B

# --- Azure OpenAI ---
# Azure uses a different URL format: https://{resource-name}.openai.azure.com/openai/deployments/{deployment-id}
# AZURE_OPENAI_API_KEY=...
# AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name
# AZURE_OPENAI_API_VERSION=2024-10-01

# --- Ollama (Self-hosted) ---
# Note: Include /v1 suffix for OpenAI-compatible API endpoints
# OLLAMA_BASE_URL=http://localhost:11434/v1
# OLLAMA_MODEL=llama3.2

# ============================================================================
# MCP Stdio Proxy Configuration (for Claude Desktop integration)
# ============================================================================
# The thin stdio proxy (rustymail-mcp-stdio) relays JSON-RPC from Claude Desktop
# to the backend MCP server via HTTP
MCP_BACKEND_URL=http://localhost:9437/mcp
MCP_TIMEOUT=30

# ============================================================================
# Agent Executor Configuration
# ============================================================================
# Maximum iterations for the AI agent when processing email instructions
# Set high to handle bulk operations (e.g., processing 10,000 emails)
# Default: 1000
AGENT_MAX_ITERATIONS=1000


