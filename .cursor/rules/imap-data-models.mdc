---
description: Specification for IMAP data models and structures used for email/folder representation and management
globs: 
alwaysApply: false
---


# imap-data-models

## Core Data Models

### Email Model (src/imap/types.rs)
- `Email` struct represents email messages with:
  - UID for unique identification
  - Flags indicating status (read, flagged, etc.)
  - Internal date for server timestamp
  - Envelope containing header information
  - Body content and structure

### Folder Model (src/imap/types.rs) 
- `MailboxInfo` struct captures folder metadata:
  - Name and hierarchical path
  - Delimiter for nested folders
  - Special attributes (e.g. Sent, Drafts)
  - Message counts and flags

### Search Model (src/imap/types.rs)
- `SearchCriteria` enum defines email search parameters:
  - Date ranges
  - Flag states
  - Header field matching 
  - Text content searches

### Modification Models (src/imap/types.rs)
- `FlagOperation` enum for flag changes:
  - Add flags
  - Remove flags 
  - Replace flags
- `ModifyFlagsPayload` for bulk flag updates
- `AppendEmailPayload` for email creation

### Unsolicited Response Model (src/imap/types.rs)
- `UnsolicitedResponse` enum tracks server events:
  - New message arrivals
  - Message expunges
  - Flag updates
  - Recent changes

$END$