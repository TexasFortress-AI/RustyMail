# RustyMail Development Checklist

## Phase 1: Critical Infrastructure Issues (Highest Impact)

### Module Structure and Dependencies
- [x] Create missing module files:
  - [x] `src/dashboard/testing/integration.rs`
  - [x] `src/imap/client_test.rs`
  - [x] `src/transport_test.rs`
  - [x] `src/client_test.rs`

### Core Type System Issues
- [ ] Fix duplicate type definitions:
  - [ ] `Duration` in `src/api/mcp_sse.rs`
  - [ ] `StreamExt` in `src/api/mcp_sse.rs`
  - [ ] `Flag` in `src/imap/session.rs`
  - [ ] `StoreOperation` in `src/api/rest.rs`
  - [ ] `JsonRpcRequest` in `src/api/mcp_sse.rs`
  - [ ] `JsonRpcError` in `src/api/mcp_sse.rs`
  - [ ] `ImapError` in `src/imap/session.rs`
  - [ ] `Email` in `src/imap/session.rs`
  - [ ] `Folder` in `src/imap/session.rs`
  - [ ] `MailboxInfo` in `src/imap/session.rs`
  - [ ] `SearchCriteria` in `src/imap/session.rs`

### Missing Module Imports
- [ ] Add missing module imports:
  - [ ] `crate::mcp::error_codes` in `src/api/mcp_stdio.rs`
  - [ ] `tracing` in `src/api/mcp_stdio.rs`
  - [ ] `actix_web::web::App` in `src/api/mcp_sse.rs`
  - [ ] `actix_web::web::HttpServer` in `src/api/mcp_sse.rs`

## Phase 2: IMAP Implementation Issues (High Impact)

### AsyncImapOps Trait Implementation
- [ ] Fix method signatures in `src/imap/session.rs`:
  - [ ] Remove non-trait methods: `list`, `create`, `delete`, `rename`, `select`, `search`, `fetch`, `uid_mv`, `uid_store`, `uid_fetch`, `uid_copy`, `store`, `uid_search`, `examine`, `status`, `is_selected`, `is_logged_in`, `delimiter`, `poll`
  - [ ] Fix duplicate `append` method definition
  - [ ] Update method signatures to match trait requirements

### Type Resolution Issues
- [ ] Fix missing type imports:
  - [ ] `UidSet` in `src/imap/session.rs`
  - [ ] `StoreType` in `src/imap/session.rs`
  - [ ] `MailboxData` in `src/imap/session.rs`
  - [ ] `StatusDataItem` in `src/imap/session.rs`
  - [ ] `UnsolicitedResponse` in `src/imap/session.rs`

## Phase 3: API Implementation Issues (Medium Impact)

### MCP Protocol Implementation
- [ ] Fix MCP-related imports:
  - [ ] Resolve `crate::mcp` module structure
  - [ ] Fix error code imports in `src/api/mcp_sse.rs`
  - [ ] Update JSON-RPC type imports

### REST API Implementation
- [ ] Clean up unused imports in `src/api/rest.rs`:
  - [ ] Remove unused actix-web imports
  - [ ] Remove unused logging imports
  - [ ] Remove unused serde imports
  - [ ] Remove unused tokio imports

### SSE Implementation
- [ ] Fix SSE-related issues:
  - [ ] Add missing `client_id` variable in `src/api/mcp_sse.rs`
  - [ ] Fix `Error` type resolution in `src/api/mcp_sse.rs`
  - [ ] Clean up unused imports in `src/api/sse.rs`

## Phase 4: Code Quality Issues (Low Impact)

### Unused Imports
- [ ] Remove all unused imports across the codebase:
  - [ ] Clean up `src/api/mcp_stdio.rs`
  - [ ] Clean up `src/api/mcp_sse.rs`
  - [ ] Clean up `src/imap/client.rs`
  - [ ] Clean up `src/imap/session.rs`
  - [ ] Clean up `src/mcp_port.rs`
  - [ ] Clean up `src/lib.rs`

### Documentation
- [ ] Add missing documentation:
  - [ ] Document public traits and types
  - [ ] Add examples for complex operations
  - [ ] Document error handling strategies

## Phase 5: Testing Infrastructure (Lowest Impact)

### Test Module Structure
- [ ] Organize test modules:
  - [ ] Move test files to appropriate locations
  - [ ] Add missing test modules
  - [ ] Update test imports

### Test Coverage
- [ ] Add missing tests:
  - [ ] Add integration tests
  - [ ] Add unit tests for new functionality
  - [ ] Add error case tests

## Progress Tracking
- [ ] Total Issues: 53 errors, 86 warnings
- [ ] Critical Issues: 15
- [ ] High Impact Issues: 12
- [ ] Medium Impact Issues: 8
- [ ] Low Impact Issues: 18
- [ ] Lowest Impact Issues: 6

Last Updated: [Current Date]
Status: In Progress 