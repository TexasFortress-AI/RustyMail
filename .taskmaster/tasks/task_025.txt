# Task ID: 25
# Title: Implement local email caching and IMAP synchronization
# Status: done
# Dependencies: 21
# Priority: high
# Description: Create a proper email caching system that stores emails locally and syncs with IMAP like a real email client
# Details:
Implement a local caching system for emails that:
1. Stores all emails, folders, and metadata in a local database (SQLite or similar)
2. Uses IMAP UIDVALIDITY and UIDNEXT for efficient synchronization
3. Only fetches new/changed emails after initial sync
4. Supports offline access to cached emails
5. Handles folder synchronization and hierarchy
6. Syncs message flags (read/unread, flagged, etc.)
7. Handles deletions and moves properly
8. Implements background sync service that periodically checks for updates
9. Provides fast local search capabilities
10. Manages storage efficiently with configurable retention policies

This should work exactly like traditional email clients (Thunderbird, Outlook, Apple Mail) where emails are stored locally and IMAP is used only for synchronization.

# Test Strategy:
Test initial sync with real IMAP account. Verify incremental sync only fetches new emails. Test offline access works. Verify flag synchronization. Test folder operations. Benchmark performance improvements.
